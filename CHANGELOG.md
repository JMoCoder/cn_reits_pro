# 更新日志 (Changelog)

本项目的所有重大更改都将记录在此文件中。

## [v0.1.3] - 2025-12-25

### 新增 (Added)
- **高级衍生数据列**:
  - **当日回撤 (Intraday Drawdown)**: 新增展示当日最高价与最低价的回撤幅度，计算公式：`(最高 - 最低) / 最高 * 100%`。
  - **成交额变化 (Turnover Change)**: 新增展示当日成交额相对于前一交易日的变动百分比，计算公式：`(当日 - 昨日) / 昨日 * 100%`。
- **交互增强**:
  - **表头提示 (Tooltip)**: 为复杂指标列（如当日回撤、成交额变化）添加了鼠标悬停提示，直观展示计算公式。
  - **视觉优化**: 衍生数据列支持红绿颜色高亮，直观反映市场情绪（红色代表上涨/增加，绿色代表下跌/减少）。

## [v0.1.2] - 2025-12-10

### 新增 (Added)
- **CSV 导出功能 (Export CSV)**: 在界面右下角新增了一键导出功能，支持将当前展示的 REITs 列表数据（含筛选结果）导出为 CSV 格式文件，方便用户进行离线分析。导出的文件已内置 BOM 头，完美兼容 Excel 打开查看。

## [v0.1.1] - 2025-12-10

### 优化 (Optimized)
- **文案调整**: 将列表中的“最新价”表头更新为“最新收盘价”，以更准确地反映数据含义（基于 Tushare 收盘数据）。

## [v0.1.0] - 2025-12-10

### 里程碑 (Milestone)
- **首个稳定预览版**: 完成了从数据源接入、严格元数据匹配、列表展示到详情页面的完整核心链路。
- **云端部署就绪**: 完善了 Netlify 部署配置，支持 Tushare API 的云端代理转发，实现了线上环境的正常访问。

### 综合回顾 (Summary)
- **核心功能**:
  - 实时行情列表：支持排序、筛选、列冻结及完整代码显示。
  - 产品详情透视：集成基础档案、基金经理、分红历史及净值走势四大维度。
- **数据治理**:
  - 实现了基于官方名录的严格匹配机制，杜绝数据错配。
  - 修正了多市场代码后缀处理逻辑，确保行情覆盖率 100%。
- **用户体验**:
  - 清爽专业的 UI 设计，去除冗余视觉干扰（如涨跌幅背景色）。
  - 响应式交互设计，支持移动端与桌面端的流畅访问。

## [v0.0.4] - 2025-12-10

### 新增 (Added)
- **产品详情页 (Product Detail Modal)**: 点击列表前四列任意区域即可弹出全方位详情页。
  - **基础档案**: 包含基金管理人、托管人、成立/上市日期、发行份额、费率结构、存续期等核心要素。
  - **基金经理**: 展示历任及现任基金经理的任职期限及个人详细简历。
  - **分红历史**: 完整的历史分红记录，包括除息/派息日、每份分红金额及说明。
  - **净值走势**: 展示最近 10 次的单位净值、累计净值和调整净值数据。
- **数据深度集成**: 新增对 Tushare `fund_manager` (经理)、`fund_nav` (净值)、`fund_div` (分红) 接口的完整支持。

### 修复 (Fixed)
- **代码匹配修复**: 修复了因 Tushare 接口需要带后缀代码（如 `508001.SH`）而导致的数据匹配失败问题。现在系统内部全程使用完整 `ts_code` 进行索引。
- **价格数据加载**: 修正了行情数据拉取逻辑，确保所有产品均能正确关联到当日行情。

### 优化 (Optimized)
- **界面视觉升级**:
  - 表格“代码”列现在显示完整代码（含 .SH/.SZ 后缀）。
  - 优化了表格列宽和冻结列布局，适应完整代码显示。
  - 去除了涨跌幅列的背景填充色，仅保留红绿文字颜色，使界面更加清爽专业。
  - 详情页排版优化，增强了信息的层级感和可读性。
- **容错增强**: 详情页数据加载采用并行策略，且单一辅助数据（如净值）加载失败不会影响基础信息的展示。

## [v0.0.3] - 2025-12-10

### 增强 (Enhancements)
- **精准元数据匹配 (Strict Metadata Matching)**: 引入了基于官方文档的严格元数据匹配机制，通过包含匹配和子序列匹配算法，将 Tushare 行情数据与官方产品名称、行业板块（一级资产类型）和资产属性（特许经营权/产权类）进行 100% 精准对应。
- **数据严谨性升级**: 移除了所有模糊猜测逻辑。对于无法精准匹配元数据的产品，系统将明确标记为“未分类”，确保展示信息的绝对准确性。
- **行情字段扩展**: 表格新增了开盘价 (Open)、最高价 (High)、最低价 (Low) 和 涨跌额 (Change) 四列数据，完整覆盖 Tushare 接口的核心行情字段。
- **UI/UX 优化**:
  - 调整列顺序为：代码 -> 项目名称 -> 行业板块 -> 资产类别 -> 价格详情。
  - 实现了前四列（基础信息列）的左侧冻结功能，方便在横向滚动查看价格时保持上下文。
  - 默认排序逻辑调整为按“项目名称”拼音首字母 (A-Z) 排序，并支持中文拼音排序。

## [v0.0.2] - 2025-12-10

### 维护 (Maintenance)
- **项目规范化**: 修正了 `package.json` 中的包名格式，使其符合 npm 命名规范。
- **文档更新**: 初始化了 `CHANGELOG.md` 更新日志文件。
- **代码库同步**: 配置了远程 GitHub 仓库关联 (`JMoCoder/cn_reits_pro`)。

## [v0.0.1] - 2025-12-10

### 新增 (Added)
- **混合批量数据拉取 (Hybrid Batch Fetch)**: 实现了 Tushare API 的智能批量拉取策略。优先使用小批量（10个/批）请求，若失败则自动降级为单并发请求，显著提高了数据加载速度并解决了接口返回空数据的问题。
- **动态加载状态 (Dynamic Loading Status)**: 界面顶部现在会实时显示数据加载进度（如 "Found 75 listed REITs..."），提升用户体验。
- **数据严谨性保障**: 移除了所有模拟/Fallback 数据逻辑，确保界面仅显示来自交易所的真实数据。即使当天数据未更新，也会自动回溯显示最近一个交易日的有效数据。
- **一次性加载流程**: 优化了 `dataService`，将列表获取和行情获取合并为单一异步流程，消除了界面“分步跳动”的现象。

### 修复 (Fixed)
- 修复了 Tushare `fund_daily` 接口在批量请求特定代码时返回空数组的问题。
- 修复了项目名称包含特殊字符导致 `package.json` 解析警告的问题。
- 解决了 OFFLINE DEMO 模式无法获取真实数据的问题。

### 优化 (Optimized)
- 调整了 API 请求频率限制逻辑，在保证速度的同时避免触发 Tushare 限流（250次/分钟）。
